---
title: "Micro posting in July"
date: 2025-07-30T11:26:36+02:00
draft: false
tags: ["micro"]
categories: ["2025"]
---

<a href="#" style="text-decoration: none;">2025-07-07</a>: I often want to delete a line matching a pattern in Vim, as well as, say, the next one. Here's how to do it: `:g/pattern/.,+1d`. `#vim`<br>
<a href="#" style="text-decoration: none;">2025-07-07</a>: TIL about the [Datastar](https://data-star.dev) framework. Looks good and a bit different from HTMX.<br>
<a href="#" style="text-decoration: none;">2025-07-07</a>: [Serving 200 million requests per day with a cgi-bin](https://jacob.gold/posts/serving-200-million-requests-with-cgi-bin/) (via [Simon Willison](https://simonwillison.net/2025/Jul/5/cgi-bin-performance/)). I built many online quizzes and online survey using cgi-bin back in the days.<br>
<a href="#" style="text-decoration: none;">2025-07-09</a>: [cl-repl](https://github.com/koji-kojiro/cl-repl) looks much better than linedit which is still broken, btw. `#lisp`<br>
<a href="#" style="text-decoration: none;">2025-07-10</a>: If you want to disable syntax highlighting in Neovim 0.11+, you'll need to disable lsp-semantic_tokens (`lua vim.lsp-semantic_tokens.Stop(0, 1)`), in addition to treesitter (`TSBufDisable highlight`; if you rely on Treesitter, it should disable stock syntax, `syntax off`). Better off using the `quiet` colorscheme as I do for quite a few months now. `#vim`<br>
<a href="#" style="text-decoration: none;">2025-07-10</a>: New kid on the blocks: [jank](https://jank-lang.org), based on Clojure but with an LLVM-based JIT backend.<br>
<a href="#" style="text-decoration: none;">2025-07-10</a>: [Uncommon Uses of Python in Commonly Used Libraries](https://eugeneyan.com/writing/uncommon-python/). `#python`<br>
<a href="#" style="text-decoration: none;">2025-07-15</a>: /me is listening to "Pictures on My Wall" by Echo & the Bunnymen<br>
<a href="#" style="text-decoration: none;">2025-07-15</a>: An old series of [blog posts](Debugging Lisp Part 1: Recompilation) on debugging Lisp. The author also covered [series](https://malisper.me/loops-in-lisp-part-1-goto/) and various macros. Be aware there's no index, though. `#lisp`<br>
<a href="#" style="text-decoration: none;">2025-07-15</a>: [MacPaint Art From The Mid-80s Still Looks Great Today](https://blog.decryption.net.au/posts/macpaint.html). Oldies but goodies. `#apple`<br>
<a href="#" style="text-decoration: none;">2025-07-15</a>: [State of the Terminal](https://gpanders.com/blog/state-of-the-terminal/): A nice review with lot of technical discussion on key encoding and the xterm-256color falaccy. `#unix`<br>
<a href="#" style="text-decoration: none;">2025-07-15</a>: [macOS defaults list](https://macos-defaults.com): Useful if you're looking for a particular settings that you'd like to update in your terminal. `#apple`<br>
<a href="#" style="text-decoration: none;">2025-07-16</a>: I don't even know what to think about this, but it was interesting to read: [Solving LeetCode™ problems with Racket](https://herecomesthemoon.net/2024/11/leetcode-with-racket/). `#racket`<br>
<a href="#" style="text-decoration: none;">2025-07-16</a>: Since I haven't looked back at my Neovim config for months, except for fixing occasional deprecations or API changes, I'm just reviewing how past projects evolved over time. I noticed that Lazyvim no longer relies on telescope but is now using fzf, which is great. It looks like [Blink](https://cmp.saghen.dev/recipes) is the new rockstar for auto-completion. I only use builtin Vim stuff, but it looks nice. `#vim`<br>
<a href="#" style="text-decoration: none;">2025-07-16</a>: [Algorithms for making interesting organic simulations](https://bleuje.com/physarum-explanation/): Lot of interesting stuff, which reminds me of Anders Hoff's work at <https://inconvergent.net>.<br>
<a href="#" style="text-decoration: none;">2025-07-17</a>: /me is listening to "Unsent" by Minuit Macine<br>
<a href="#" style="text-decoration: none;">2025-07-20</a>: /me is listening to "Salute Your Solution" by The Raconteurs<br>
<a href="#" style="text-decoration: none;">2025-07-20</a>:

> Nowadays, Apple includes the system upgrades in the upfront cost of its computers, so the incentive to constantly roll out ten or twenty or three hundred “new features” should be lower. Inexplicably, since the company adopted that no extra charge, yearly release cadence, it has seemingly been more reticent to do a disciplined “Snow” release, no matter how necessary. --- [Apple Needs a Snow Sequoia](https://reviews.ofb.biz/safari/article/1300.html)<br>

<a href="#" style="text-decoration: none;">2025-07-20</a>: [Cool Python Functions](https://mattrighetti.com/2023/03/16/cool-python-functions). I already came across this post a while ago, but it's interesting to read or reread, especially on how to iterate backward or how to merge two dictionnaries. `#python`<br>
<a href="#" style="text-decoration: none;">2025-07-21</a>: I spent some time figuring out why my Zsh startup time became so slow over time. Initially I thought about `compinit`, and I added this fix mentioned everywhere on the internet (read `zcompdump` once per day):

```shell
# autoload -U compinit && compinit
autoload -Uz compinit
if [ $(date +'%j') != $(stat -f '%Sm' -t '%j' ~/.config/zsh/.zcompdump) ]; then
  compinit
else
  compinit -C
fi
```

This helped, but the real culprint was NVM which considerably slows down Zsh startup with its loading script `nvm.sh`. I use the [following trick](https://superuser.com/a/1611283). In retrospect, `compinit` isn't accounting for that much time when checked agaisnt `zprof`, but Zsh now starts like a breeze again:

```shell
~/.config/zsh
» time zsh -i -c exit
Saving session...completed.zsh -i -c exit
0,03s user 0,03s system 90% cpu 0,073 total
```
<br>
<a href="#" style="text-decoration: none;">2025-07-21</a>: Still wasting time looking at possible micro-optimizations on the CLI side. The MacBook M4 Pro is a beast, and I found it reduced by a fair amount (~ 40%) Neovim startup time. Digging into how fast it starts now (using [vim-startuptime](https://github.com/rhysd/vim-startuptime) and hyperfine), I found the following:

```shell
scratch master* 2m44s
» hyperfine "nvim --headless +qa" --warmup 5

Benchmark 1: nvim --headless +qa
  Time (mean ± σ):      32.5 ms ±   0.4 ms    [User: 19.0 ms, System: 7.1 ms]
  Range (min … max):    31.4 ms …  33.7 ms    85 runs

scratch master*
» vim-startuptime --vimpath nvim
Extra options: []
Measured: 10 times

Total Average: 22.782900 msec
Total Max:     28.338000 msec
Total Min:     21.359000 msec

  AVERAGE       MAX       MIN
------------------------------
14.312000 18.240000 13.348000: /Users/chl/.config/nvim/init.lua
 5.226100  6.687000  4.827000: require('fzf-lua')
 2.576100  3.206000  2.425000: require('nvim-treesitter.configs')
 2.393600  2.972000  2.255000: require('nvim-treesitter.query')
 2.110400  2.705000  1.979000: require('vim.lsp')
 1.709600  2.168000  1.511000: require('fzf-lua.config')
 1.443200  1.824000  1.330000: require('fzf-lua.path')
 1.227300  1.388000  1.181000: loading rtp plugins
 1.133800  1.385000  1.052000: require('nvim-treesitter.tsrange')
 1.064300  1.333000  1.004000: require('nvim-treesitter.compat')
 1.053900  1.290000  0.977000: require('nvim-treesitter.ts_utils')
 1.016600  1.270000  0.961000: require('vim.treesitter')
 0.990800  1.184000  0.943000: /Users/chl/.config/nvim/plugin/lisp.lua
 0.973200  1.165000  0.927000: nvim_exec2() called at /Users/chl/.config/nvim/plugin/lisp.lua:0
```

The `lisp.lua` custom plugin is just here to load slimv which sits as an optional plugin, and so I realized that there was no gain in this case. Better to leave it as a start plugin and remove the custom plugin itself. It makes no difference whatsoever. It's still much higher than [three years](/post/speed-up-neovim/) ago when I was using a proper package manager and much less Lua code in my `init.lua`. However, I found that using `vim.loader.enable()` introduced in Neovim 0.9 resulted in a slight improvement:

```shell
~/.config/nvim
» hyperfine "nvim --headless +qa" --warmup 5
Benchmark 1: nvim --headless +qa
  Time (mean ± σ):      25.7 ms ±   0.5 ms    [User: 12.8 ms, System: 6.7 ms]
  Range (min … max):    24.3 ms …  26.9 ms    112 runs
```

Loading my `init.lua` is now two times faster as reported by vim-startuptime. `#vim` <br>
<a href="#" style="text-decoration: none;">2025-07-26</a>: I didn't even know that Apple dropped rsync and replaced it with [openrsync](https://news.ycombinator.com/item?id=43605003).

```shell
» rsync --version
openrsync: protocol version 29
rsync version 2.6.9 compatible
```

<a href="#" style="text-decoration: none;">2025-07-26</a>: I ran into [this issue](https://github.com/cmus/cmus/issues/1421) when reinstating Cmus on my MacBook. The locale fix works for me. I also had to set `softvol=true` to change volume (don't know why but I didn't need this on Mojave, IIRC).<br>
<a href="#" style="text-decoration: none;">2025-07-26</a>: It's 2025, and here's the [state of Python on macOS](https://github.com/orgs/Homebrew/discussions/3404#discussioncomment-8738672). I only use virtual environments and [uv](https://astral.sh), but I wish we could go all `uv tool install`. `#apple` `#python`<br>
<a href="#" style="text-decoration: none;">2025-07-26</a>: TIL about [macOS / binaries](https://macosbin.com), to look up macOS binaries lying all around System Monitor. `#apple`<br>
<a href="#" style="text-decoration: none;">2025-07-26</a>: [6 Techniques Hacker News Uses to Create Great Shell Scripts](https://nochlin.com/blog/6-techniques-hacker-news-uses-to-create-great-shell-scripts): Some good advices here and there. `#unix`<br>
<a href="#" style="text-decoration: none;">2025-07-26</a>: [SVGs that feel like GIFs](https://koaning.io/posts/svg-gifs/).<br>
<a href="#" style="text-decoration: none;">2025-07-26</a>: [Yatoro](https://github.com/jayadamsmorgan/Yatoro): VIM-like Apple Music Player in Terminal. `#apple` `#unix`<br>
