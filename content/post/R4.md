---
title: "R 4.0"
date: 2020-05-19T15:36:42+02:00
draft: false
tags: ["rstats"]
categories: ["2020"]
---

R 4.0 was [released](https://blog.revolutionanalytics.com/2020/04/r-400-is-released.html) a few weeks ago. I installed it yesterady and everything went smoothly as expected. Indeed, Dird Edelbuettel already showed how easy upgrading R was in one of his recent [R<sup>4</sup> post](http://dirk.eddelbuettel.com/blog/2020/04/26/#026_upgrade_to_R400). In my case, I installed R from scracth, meaning I let the installer erase my old library folder and reinstalled a bunch of packages after all. It's been a long since I no longer use a separate lib directory.

The default palette has been revised and it is now possible to use custom color scheme for base R plots. I added the following line in my `.Rprofile`:

```
.First <- function() grDevices::palette("Tableau10")
```

On a related point, I tried the [language server](https://github.com/REditorSupport/languageserver) for Emacs. For almost 15 years I used to use [ESS](https://ess.r-project.org) exclusively, but now that I learned that you can use both at the same time via a hook,[^1] why not benefit from the best of both worlds? At the time of this writing, the language server protocol is still lacking some functionalities like the reference provider (the definition provider works fine, though) or code action and lens utilities. There's no rename facility, nor execute command but since we have iESS this not a big deal. We get linting and symbol highlighting for free, but the signature and completion helpers are far better than their ESS counterparts, IMO. Here's a quick peak at the language server in action:

{{< fluid_imgs
"pure-u-1-2|/img/"
"pure-u-1-2|/img/" >}}

{{% music %}} â€¢ _bla_{{% /music %}}

[^1]: Unfortunately, this hooking technique cannot be used to complement ESS for Stata with Bill Rising's [ado-mode](https://github.com/louabill/ado-mode), which is far better at syntax highlighting but only targets GUI version of Stata.
