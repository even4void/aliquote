<!DOCTYPE html>
<html lang="fr">
<head>
<!-- 2022-05-12 jeu. 23:12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Stata : conseils et astuces</title>
<meta name="generator" content="Org mode">
<link rel="stylesheet" type="text/css" href="assets/worg.css" />
</head>
<body>
<div id="content">
<h1 class="title">Stata : conseils et astuces</h1>
<p>
Les ressources mémoire utilisées par Stata peuvent être contrôlées à l'aide de la commande <a href="https://www.stata.com/help.cgi?niceness">niceness</a> :
</p>

<div class="org-src-container">
<pre class="src src-stata">set niceness 8
</pre>
</div>

<p>
Par défault les graphiques anonymes sont affichés dans la même fenêtre. Il est toutefois possible d'afficher chaque graphique dans une fenêtre séparée en spécifiant l'option suivante :
</p>

<div class="org-src-container">
<pre class="src src-stata">set autotabgraphs on
</pre>
</div>

<p>
Le cas échéant, il convient de nommer systématiquement les graphiques, en spécifiant l'option <code>name(gph1, replace)</code>, par exemple.
</p>

<p>
Toutes les commandes ne sont pas documentées, et cela dépend des versions de Stata. Pour obtenir la liste des commandes non documentées ou des commandes supprimées ou archivées dans les anciennes versions, tapez les commandes :
</p>

<div class="org-src-container">
<pre class="src src-stata">help undocumented
help prdocumented
</pre>
</div>

<p>
En dehors des outils de contrôle de qualité classiques, il existe une commande qui permet de vérifier l'intégrité d'un fichier de données, comme une somme de contrôle : <a href="https://www.stata.com/help.cgi?datasig">datasig</a>.
</p>

<p>
Il est possible de fournir des étiquettes localisées pour les variables, par exemple en Français et en Anglais. Dans ce cas, l'option de langue peut être spécifiée globalement à l'aide de <a href="https://www.stata.com/help.cgi?label%20language">label language</a>.
</p>

<p>
Les commandes d'importation de fichiers de données texte (<a href="https://www.stata.com/help.cgi?inhseet">insheet</a>) sur les anciennes versions de Stata ne permettent pas toutes de prendre en compte automatiquement une ligne d'en-tête. Il est toutefois possible de traiter séparément la première ligne d'un tel fichier et de générer les noms de variable correspondant :
</p>

<div class="org-src-container">
<pre class="src src-stata">foreach x of varlist _all {
  local header = `x'[1]
  rename `x' `header'
}
drop in 1
destring _all, replace
</pre>
</div>

<p>
Pour lire tous les fichiers CSV dans le répertoire courant, on peut utiliser les instructions suivantes :
</p>

<div class="org-src-container">
<pre class="src src-stata">local x: dir . files "*.csv"
display "`x'"
</pre>
</div>

<p>
Les expressions rationnelles sont souvent méconnues, pourtant elles permettent d'effectuer des tâches de nettoyage de données très puissantes. Par exemple, pour supprimer tous les espaces superflus dans le contenu d'une variable de type chaîne de caractères, on peut utiliser la commande <a href="https://www.stata.com/help.cgi?trim">trim</a> de la manière suivante :
</p>

<div class="org-src-container">
<pre class="src src-stata">trim(ustrregexra(x,"/(\r\n\t)+|\r+|\n+|\t+/", ""))
</pre>
</div>
</div>
<div id="postamble" class="status">
Generated by <a href="https://www.gnu.org/software/emacs/">Emacs</a> 26.3 (<a href="https://orgmode.org">Org</a> mode 9.3.1) on 2022-05-12 jeu. 23:12 (<a href="mailto:chl@aliquote.org">chl@aliquote.org</a>)
</div>
</body>
</html>
